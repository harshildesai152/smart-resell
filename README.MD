# ğŸš€ Sell Best - AI Inventory Intelligence Platform

## ğŸ“‹ Table of Contents
- [âš™ï¸ Installation & Setup](#ï¸-installation--setup)
- [ğŸ—ï¸ Project Structure](#ï¸-project-structure)
- [ğŸš€ How to Run](#-how-to-run)
- [ğŸ”§ Key Dependencies](#-key-dependencies)

---

## âš™ï¸ Installation & Setup

### ğŸ“‹ Prerequisites
- **Python 3.8 or higher**
- **Git**

### ğŸ”„ Step-by-Step Installation

#### 1. **Clone the Repository**
```bash
git clone https://github.com/your-username/sell-best-ai-inventory.git
cd sell-best-ai-inventory
```

#### 2. **Create Virtual Environment** (Recommended)
```bash
# Windows
python -m venv venv
venv\Scripts\activate

# macOS/Linux
python -m venv venv
source venv/bin/activate
```

#### 3. **Install Python Dependencies**
```bash
pip install --upgrade pip
pip install -r requirements.txt
```

#### 4. **Install Streamlit** (If not included in requirements.txt)
```bash
pip install streamlit
```

#### 5. **Setup Environment Variables**
Create a `.env` file in the root directory:
```env
API_kay=your_openweather_api_key_here
```

#### 6. **Verify Installation**
```bash
python -c "import streamlit, pandas, sklearn, plotly; print('âœ… All dependencies installed successfully!')"
```

---

## Project Structure

```
sell-best-ai-inventory/
â”‚
â”œâ”€â”€ analytics_engine/           # ML Processing Modules
â”‚   â”œâ”€â”€ demand_processor.py        # Demand matching & geospatial analysis
â”‚   â”œâ”€â”€ channel_processor.py       # Multi-platform analytics
â”‚   â”œâ”€â”€ weather_processor.py       # Weather impact analysis
â”‚   â”œâ”€â”€ smart_forecast_processor.py # Time-series forecasting
â”‚   â”œâ”€â”€ segmentation_processor.py  # K-means customer clustering
â”‚   â”œâ”€â”€ product_lifecycle_processor.py # ML lifecycle classification
â”‚   â”œâ”€â”€ price_sensitivity_processor.py # Price elasticity modeling
â”‚   â””â”€â”€ manual_viability_processor.py # Manual analysis support
|
â”œâ”€â”€ all_SQL_queries/            # Databricks Dashboard SQL Queries
â”‚   â”œâ”€â”€ TREND_&_STOCK_RULE.sql              # Category performance & stock recommendations
â”‚   â”œâ”€â”€ WEATHER_IMPACT_STATISTICS.sql         # Weather-based transaction analysis
â”‚   â”œâ”€â”€ Demand_Matching.sql                  # KNN-based demand matching with Haversine
â”‚   â”œâ”€â”€ Monthly_Revenue_by_Platform_from_Sales_Data.sql # Channel revenue trends
â”‚   â”œâ”€â”€ Market_Share.sql                    # Platform market share analysis
â”‚   â”œâ”€â”€ Sales_Performance_by_Platform_and_Product_Variety.sql # Platform metrics
â”‚   â”œâ”€â”€ Smart_Forecast.sql                 # Predictive analytics with seasonal trends
â”‚   â”œâ”€â”€ High_Demand_zone.sql               # Geographic segmentation & risk analysis
â”‚   â”œâ”€â”€ Product_Lifecycle_Classification.sql  # Product trend analysis via regression
â”‚   â”œâ”€â”€ PRODUCT_DEMAND_TRENDS.sql          # Monthly demand line data
â”‚   â”œâ”€â”€ Price_vs_Demand_Relationship.sql    # Price elasticity modeling
â”‚   â”œâ”€â”€ Profit_Impact_Analysis.sql         # Discount simulation & break-even
â”‚   â””â”€â”€ Sell Near Me.lvdash.json          # Complete Databricks dashboard config
|
â”œâ”€â”€ data set/
|   â”œâ”€â”€Amazon_Flipkart_Returns_MIXED.xlsx
|   â”œâ”€â”€Instant_Delivery_Sales_MIXED.xlsx
|
â”œâ”€â”€ separate code/              # Original Analysis Scripts
â”‚   â”œâ”€â”€ near1.py to near12.py      # Individual ML experiments
â”‚   â””â”€â”€ README files               # Analysis documentation
â”‚
â”œâ”€â”€ ğŸ“„ app.py                      # ğŸš€ Main Application Entry Point
â”œâ”€â”€ ğŸ“„ ingestion.py                # ğŸ“¤ Data Upload & Processing
â”œâ”€â”€ ğŸ“„ dashboard.py                # ğŸ“Š Main Dashboard Overview
â”œâ”€â”€ ğŸ“„ manual.py                   # ğŸ” Manual Viability Checker
â”œâ”€â”€ ğŸ“„ geospatial.py               # ğŸ—ºï¸ Demand Mapping
â”œâ”€â”€ ğŸ“„ weather.py                  # ğŸŒ¤ï¸ Weather Impact Stats
â”œâ”€â”€ ğŸ“„ weatherProduct.py           # ğŸŒ¦ï¸ Category Performance
â”œâ”€â”€ ğŸ“„ demand.py                   # ğŸ”— Demand Matching
â”œâ”€â”€ ğŸ“„ ChannelAn.py                # ğŸ“ˆ Channel Analytics
â”œâ”€â”€ ğŸ“„ smartForecast.py            # ğŸ”® Weather-aware Forecasting
â”œâ”€â”€ ğŸ“„ segmentation.py             # ğŸ—‚ï¸ Customer Clustering
â”œâ”€â”€ ğŸ“„ productLifecycle.py         # ğŸ“Š Product Maturity Analysis
â”œâ”€â”€ ğŸ“„ priceSensitivity.py         # ğŸ’° Price Elasticity Simulator
â”œâ”€â”€ ğŸ“„ generateLabel.py            # ğŸ·ï¸ Label Generation Utility
â”‚
â”œâ”€â”€ ğŸ“„ requirements.txt            # ğŸ“¦ Python Dependencies
â”œâ”€â”€ ğŸ“„ .env                        # ğŸ” Environment Variables
â”œâ”€â”€ ğŸ“„ .gitignore                  # ğŸš« Git Ignore Rules
â””â”€â”€ ğŸ“„ README.MD                   # ğŸ“– This Documentation
```

### ğŸ§  System Architecture & Methodology

| Component | Method / Algorithm | Purpose | Key Output |
| :--- | :--- | :--- | :--- |
| **ğŸŒ¤ï¸ Weather Processor** | `LabelEncoder` | Convert categorical weather data to numerical format | Encoded numerical values |
| | `LogisticRegression` | Predict sell probability based on weather & sales patterns | Sell probability (0-100%) |
| | `train_test_split` | Split data to prevent overfitting | Validation datasets |
| | `Haversine Distance` | Calculate geographic distance (Return vs. Sales) | Distance (km) |
| | `Pandas Aggregation` | Group data by weather and category | Weather impact tables |
| **ğŸ“¢ Channel Processor** | `Pandas Aggregation` | Group sales by platform | Revenue & market share stats |
| | `Math Utils` | Calculate commissions, return rates, delivery speeds | Performance metrics table |
| | `Trend Analysis` | Track revenue changes over time | Time-series data |
| **ğŸ“‰ Demand Processor** | `KNN (K-Nearest Neighbors)` | Find similar sales near return locations | Demand matching neighbors |
| | `Haversine Distance` | Calculate proximity for similarity scoring | Distance measurements |
| | `Business Logic` | Apply thresholds based on volume/distance | Resale Viability (High/Med/Low) |
| **ğŸ—ºï¸ Geospatial Processor** | `Haversine Distance` | Measure distance between return & sales points | Proximity analysis |
| | `Weighted Scoring` | Combine distance, demand, and platform factors | Confidence Score (0-100%) |
| | `Threshold Logic` | Apply rules for final decision | Recommendations (YES/NO/MAYBE) |
| **ğŸ–ï¸ Manual Viability** | `LabelEncoder` | Pre-processing for ML models | Encoded feature values |
| | `LogisticRegression` | Predict base sell probability | Base probability score |
| | `KNeighborsClassifier` | Recommend best platform via similarity | Platform recommendation |
| | `GradientBoostingRegressor` | Predict optimal market price | Predicted Market Price |
| **ğŸ’° Price Sensitivity** | `LinearRegression` | Model basic price elasticity | Demand prediction (Linear) |
| | `GradientBoostingRegressor` | Capture non-linear price patterns | Demand prediction (Complex) |
| | `Discount Simulation` | Test impact of 0-50% discounts | Revenue/Profit impact analysis |
| | `Break-even Analysis` | Find profitability thresholds | Break-even discount % |
| **ğŸ”„ Lifecycle Processor** | `LinearRegression` | Analyze demand slope over time | Trend (Growing/Stable/Declining) |
| | `Slope Classification` | Determine lifecycle stage via regression slope | Stage: New / Mature / Declining |
| **ğŸ§© Segmentation** | `KMeans Clustering` | Group cities by sales/return patterns | City Clusters |
| | `Risk Calculation` | Assess return risk percentages | Risk Level (Critical to Low) |
| **ğŸ”® Smart Forecast** | `Prophet` | Time series prediction with seasonality | 30-Day Demand Forecast |
| | `NearestNeighbors` | Find similar products | Product similarity matching |
| | `Weather API` | Real-time weather integration | Current condition impact |

### ğŸ¨ **Architecture Overview:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   User Upload   â”‚â”€â”€â”€â–¶â”‚  Data Processing â”‚â”€â”€â”€â–¶â”‚   ML Analysis   â”‚
â”‚   CSV/XLS Files â”‚    â”‚  Cleaning & Prep â”‚    â”‚   Predictions   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                        â”‚
                                                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Streamlit UI    â”‚â—€â”€â”€â”€â”‚ Session Storage  â”‚â—€â”€â”€â”€â”‚   Analytics     â”‚
â”‚ Interactive     â”‚    â”‚   State Mgmt    â”‚    â”‚   Results       â”‚
â”‚ Dashboard       â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸš€ How to Run

### ğŸ¯ **Quick Start (3 Commands)**

```bash
# 1. Clone and navigate
git clone <repository-url>
cd sell-best-ai-inventory

# 2. Install dependencies
pip install -r requirements.txt

# 3. Run the application
streamlit run app.py
```

### ğŸ“Š **Detailed Running Instructions**

#### **Method 1: Direct Run**
```bash
streamlit run app.py
```

#### **Method 2: Python Module**
```bash
python -m streamlit run app.py
```

#### **Method 3: With Custom Port**
```bash
streamlit run app.py --server.port 8501 --server.address 0.0.0.0
```

### ğŸŒ **Access the Application**
Once running, open your browser to: `http://localhost:8501`

### ğŸ”§ **Troubleshooting**

**If you get import errors:**
```bash
pip install --upgrade streamlit pandas scikit-learn plotly
```

**If weather API fails:**
- Add your OpenWeather API key to `.env` file
- Or the app will use fallback weather data

**For large datasets:**
```bash
# Increase Streamlit memory limit
streamlit run app.py --server.maxUploadSize 1024
```

---

## ğŸ”§ Key Dependencies

### ğŸ“¦ **Core Dependencies**
```
streamlit>=1.28.0
pandas>=2.0.0
numpy>=1.24.0
scikit-learn>=1.3.0
plotly>=5.15.0
folium>=0.14.0
prophet>=1.1.0
requests>=2.31.0
python-dotenv>=1.0.0
openpyxl>=3.1.0
xlrd>=2.0.1
```

---

**ğŸ‰ Ready to transform your inventory management with AI? Start with `streamlit run app.py`!**

---

## ğŸ—ƒï¸ Databricks Project - Complete Analytics Dashboard

### ğŸ¯ **Project Overview**
This Databricks Lakeview Dashboard provides **14 comprehensive analytics queries** that transform raw sales and returns data into actionable business intelligence. Each query is optimized for performance and designed to answer specific business questions.

---

### ğŸ“Š **Query-by-Query Analysis**

#### 1. ğŸ—ºï¸ **Geospatial Demand Analysis**
**Purpose**: Find optimal locations for reselling returned products

**What it does:**
- âœ… Find nearby sales for each return
- âœ… Calculate distance in KM between return location and sale location  
- âœ… Check if sales are within 15 KM
- âœ… Count how many products are sold nearby
- âœ… Decide: Can this product be sold nearby or not?
- âœ… Give a confidence score (0â€“100%)

**Key SQL Concepts:**
| Word | Meaning |
|------|---------|
| `WITH` | Create a temporary table named |
| `AS` | Means rename column |
| `JOIN` | Join (connect) two tables |
| `GROUP BY` | Combine same orders together |

---

#### 2. ğŸ–ï¸ **Manual Viability Check**
**Purpose**: Instant product assessment for manual input

**What it does:**
1ï¸âƒ£ Takes your product details (manual input)
2ï¸âƒ£ Reads past sales data
3ï¸âƒ£ Finds best selling app
4ï¸âƒ£ Predicts selling price
5ï¸âƒ£ Checks demand
6ï¸âƒ£ Adjusts for season
7ï¸âƒ£ Calculates profit
8ï¸âƒ£ Gives final YES / NO

**Key SQL Concepts:**
| Word | Meaning |
|------|---------|
| `SELECT` | Pick columns |
| `FROM` | From table |
| `WHERE` | Condition |
| `GROUP BY` | Combine |
| `JOIN` | Connect |
| `CASE` | If-Else |
| `WITH` | Step name |
| `LEFT JOIN` | Preserve all records from left table |

---

#### 3. ğŸ“¦ **TREND & STOCK RULE**
**Purpose**: Inventory optimization recommendations

**What it helps you decide:**
ğŸ“¦ Which product category needs more stock?

**It checks:**
âœ” Total sales per category
âœ” Average sales of all categories  
âœ” Compare each category with average
âœ” Mark: High / Medium / Low Priority

**Key SQL Concepts:**
| Word | Meaning |
|------|---------|
| `CROSS JOIN` | Attach 1-row table to all rows |
| `() t` | Temporary table |

---

#### 4. â˜ï¸ **WEATHER IMPACT STATISTICS**
**Purpose**: Seasonal demand analysis

**What it tells you:**
â˜ï¸ In which weather people buy more?
ğŸ’° What is the average order value in each season?
ğŸ“Š What % of total market each weather has?

**Business Insights:**
âœ” Winter vs Summer vs Rainy â†’ who sells more
âœ” Where to focus marketing
âœ” When to stock more

---

#### 5. ğŸ”— **Demand Matching**
**Purpose**: KNN-based product matching for returns

**What it does:**
âœ… Takes latest return orders
âœ… Takes sales data
âœ… Calculates distance (KM)
âœ… Finds nearest sales (like KNN)
âœ… Returns top 5 closest matches per return

**Key SQL Concepts:**
| Word | Meaning |
|------|---------|
| `WITH` | Create steps |
| `CAST` | Convert type |
| `INITCAP` | Capitalize |
| `ROW_NUMBER` | Give rank |
| `JOIN` | Connect tables |
| `PARTITION BY` | Group |
| `ORDER BY` | Sort |
| `WHERE rn<=5` | Take top 5 |

---

#### 6. ğŸ“ˆ **Monthly Revenue by Platform**
**Purpose**: Platform performance with return analysis

**What it analyzes:**
Monthly sales + returns for each platform (Blinkit, Zepto, Swiggy Instamart) and decides whether a product is good to sell or not.

**It combines:**
âœ… Sales data
âœ… Return data  
âœ… Revenue
âœ… Return rate
âœ… Business decision (SELL / MAYBE / DO NOT SELL)

---

#### 7. ğŸ† **Market Share**
**Purpose**: Platform dominance analysis

**What it finds:**
ğŸ“Š How much percentage of total sales each platform has.

**Business Insights:**
ğŸ‘‰ It tells you:
Which app earns most money ğŸ’°
Which app is second ğŸ¥ˆ  
Which app is third ğŸ¥‰

**Key SQL Concepts:**
| Word | Meaning |
|------|---------|
| `SUM()` | Add values |
| `CROSS JOIN` | Attach 1 row to all |
| `ROUND()` | Fix decimals |
| `ORDER BY` | Sort |

---

#### 8. ğŸ“Š **Sales Performance by Platform**
**Purpose**: Comprehensive platform metrics

**What it tells you:**
ğŸ“Š How well each platform (app) is performing in sales.

**For every platform, it shows:**
âœ… How many orders it got
âœ… How many different products it sold
âœ… Average order value
âœ… Total revenue

**Key SQL Concepts:**
| Word | Meaning |
|------|---------|
| `DISTINCT` | Remove duplicates |
| `AVG()` | Average |
| `ROUND()` | Fix decimals |
| `GROUP BY` | Combine |
| `ORDER BY` | Sort |

---

#### 9. ğŸ”® **Smart Forecast**
**Purpose**: Predictive analytics and inventory planning

**What it does (in simple words):**
This SQL tells you for each product:
âœ… How fast it is selling right now
âœ… How it sold in the past
âœ… Is demand increasing or decreasing
âœ… Should you stock more or less
âœ… What will be demand next season

---

#### 10. ğŸ¯ **High Demand Zone**
**Purpose**: Geographic segmentation and risk analysis

**What it finds for every city:**
âœ… How many products are sold
âœ… How many are returned
âœ… Return percentage
âœ… City location (lat/lon)
âœ… Business zone type (good/bad/risky)

---

#### 11. ğŸ”„ **Product Lifecycle Classification**
**Purpose**: Product maturity analysis

**What it does for each product:**
âœ… Collects monthly sales
âœ… Sees how demand changes over time
âœ… Calculates trend (increasing / decreasing)
âœ… Classifies lifecycle stage
âœ… Suggests business action

---

#### 12. ğŸ“ˆ **PRODUCT DEMAND TRENDS**
**Purpose**: Monthly demand tracking

**What it tells you:**
âœ… For every product and every month
âœ… How many items were sold

---

#### 13. ğŸ’° **Price vs Demand Relationship**
**Purpose**: Price elasticity modeling

**What it does:**
Simulates discounts from 0% to 50%
And for each discount, it predicts:
âœ… Change in demand
âœ… Change in revenue
âœ… Change in profit

---

#### 14. ğŸ“Š **Profit Impact Analysis**
**Purpose**: Discount optimization and break-even analysis

**What it does:**
âœ” Takes average price and demand
âœ” Simulates discounts from 0%â€“50%
âœ” Predicts how demand changes
âœ” Calculates revenue & profit
âœ” Focuses on 15% discount
âœ” Finds profit change
âœ” Finds break-even discount

---

### ğŸ¨ **Dashboard Architecture**

```mermaid
graph TB
    A[Raw Data] --> B[Sales Table]
    A --> C[Returns Table]
    B --> D[14 Analytics Queries]
    C --> D
    D --> E[Visualizations]
    E --> F[Business Insights]
    F --> G[Actionable Decisions]
    
    style A fill:#e1f5fe
    style B fill:#f3e5f5
    style C fill:#e8f5e8
    style D fill:#fff3e0
    style E fill:#fce4ec
    style F fill:#f1f8e9
    style G fill:#e0f2f1
```

### ğŸš€ **Implementation Benefits**

#### ğŸ“Š **Business Intelligence**
- **Real-time Insights**: Live data processing and analysis
- **Multi-dimensional Analysis**: Geographic, temporal, and categorical views
- **Predictive Analytics**: Forecasting and trend analysis
- **Risk Assessment**: Comprehensive risk evaluation

#### ğŸ¯ **Decision Support**
- **Inventory Optimization**: Stock level recommendations
- **Platform Strategy**: Channel performance insights
- **Pricing Intelligence**: Elasticity and profit analysis
- **Geographic Intelligence**: Location-based demand mapping

#### ğŸ”§ **Technical Features**
- **Scalable Architecture**: Optimized for large datasets
- **Performance Tuned**: Efficient SQL queries
- **Interactive Visualizations**: Rich dashboard experience
- **Data Integration**: Multiple data sources unified

---

### ğŸ“‹ **Quick Reference Guide**

| Query | Primary Use | Key Output | Business Impact |
|-------|-------------|-----------|----------------|
| **Geospatial** | Location matching | Distance-based recommendations | Optimal resale locations |
| **Manual Viability** | Product assessment | YES/NO decisions | Quick product evaluation |
| **Trend & Stock** | Inventory planning | Priority levels | Stock optimization |
| **Weather Impact** | Seasonal analysis | Weather-based insights | Marketing timing |
| **Demand Matching** | Product matching | KNN results | Demand fulfillment |
| **Platform Revenue** | Channel analysis | Performance metrics | Platform strategy |
| **Market Share** | Competitive analysis | Market percentages | Market positioning |
| **Sales Performance** | Platform metrics | Comprehensive stats | Channel optimization |
| **Smart Forecast** | Predictive analytics | Future demand | Inventory planning |
| **High Demand Zone** | Geographic analysis | Zone classifications | Market expansion |
| **Product Lifecycle** | Trend analysis | Lifecycle stages | Product strategy |
| **Demand Trends** | Historical data | Monthly patterns | Trend identification |
| **Price Sensitivity** | Pricing analysis | Elasticity curves | Pricing strategy |
| **Profit Impact** | Discount analysis | Break-even points | Profit optimization |

---

### ğŸ‰ **Ready to Transform Your Analytics?**

**ğŸš€ Get Started:**
1. **Upload your data** to Databricks workspace
2. **Import the dashboard** using `Sell Near Me.lvdash.json`
3. **Run the queries** to get instant insights
4. **Visualize results** with interactive charts
5. **Make data-driven decisions** with confidence

**ğŸ’¡ Pro Tip:** Start with the **Geospatial Demand Analysis** and **Manual Viability Check** for immediate business value!

---

**ğŸ‰ Ready to transform your inventory management with AI? Start with `streamlit run app.py`!**